<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />


  <link rel="stylesheet" href="css/favorite.css" />

  <link rel="stylesheet" href="./css/owl.carousel.min.css">
  <link rel="stylesheet" href="./css/owl.theme.default.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="icon" type="image/x-icon" href="img/Logo-img.png"/>
  <title>Yêu thích</title>
</head>

<body>
  <div class="container">
    <div class="headers">
      <header>
        <nav>
        <ul>
            <li><a href="index.html">Trang chủ</a></li>
            <li><a class="product_page" href="#product">Sản phẩm <i class="fa-solid fa-caret-down"></i></a></li>
            <li><a class="room_page" href="room-page.html">Loại phòng<i class="fa-solid fa-caret-down"></i></a>
              <div class="room_menu">
                <div class="collection"><a href="livingroom-product.html">Phòng khách</a></div>
                <div class="collection"><a href="#">Phòng ăn</a></div>
                <div class="collection"><a href="#">Nhà bếp</a></div>
                <div class="collection"><a href="#">Phòng ngủ</a></div>
                  <div class="collection-see-all">Xem tất cả <i class="fa-solid fa-chevron-right"></i></div>
                </div>
          </li>
            <li><a class="collection_page" href="collection-page.html">Bộ sưu tập <i class="fa-solid fa-caret-down"></i></a>
              <div class="collection_menu">
                  <div class="collection"><a href="xmas-collection.html">Giáng Sinh</a></div>
                  <div class="collection"><a href="#">Trung Thu</a></div>
                  <div class="collection"><a href="#">Halloween</a></div>
                  <div class="collection"><a href="#">Lễ Tết</a></div>
                  <div class="collection-see-all">Xem tất cả <i class="fa-solid fa-chevron-right"></i></div>
                </div></li>
            <li><a href="#news">Tin tức</a></li>
            <li><a href="about.html">Về chúng tôi</a></li>
            <li><a href="contact.html">Liên hệ</a></li>
            
        </ul>
    </nav>
    </header>

    

    <div id="search_bar">
      <input id="search_text" type="text" placeholder="Tìm kiếm">
      <img class="search_img" src="img/Search.svg" alt="">
    </div>



   <a href="../index.html"> <img  class="logo-image" src="img/Logo-img.png" /></a>
   <a href="../index.html"> <img  class="logo-name" src="img/Logo-name.png" /></a>
  </div>


  <div class="product_menu">
    <div class="list-row">
      <div class="product"><a href="couch-page.html" >Ghế dài</a></div>
      <div class="product"><a href="#" >Ghế bành</a></div>
      <div class="product"><a href="#" >Ghế</a></div>
      <div class="product"><a href="#" >Ghế đôn</a></div>
      <div class="product-img"><img src="img/Layer 2-1.png" alt=""></div>
    </div>
    <div class="list-row">
      <div class="product"><a href="#" >Bàn cà phê</a></div>
      <div class="product"><a href="#" >Bàn ăn</a></div>
      <div class="product"><a href="#" >Bàn làm việc</a></div>
      <div class="product"><a href="#" >Bàn họp</a></div>
      <div class="product-img"><img src="img/Layer 2-2.png" alt=""></div>
    </div>
    <div class="list-row">
      <div class="product"><a href="#" >Giường cơ bản</a></div>
      <div class="product"><a href="#" >Giường tầng</a></div>
      <div class="product"><a href="#" >Giường kéo</a></div>
      <div class="product"><a href="#" >Giường bốn cọc</a></div>
      <div class="product-img"><img src="img/Layer 2-3.png" alt=""></div>
    </div>
    <div class="list-row">
      <div class="product"><a href="#" >Đèn bàn</a></div>
      <div class="product"><a href="#" >Đèn bàn làm việc</a></div>
      <div class="product"><a href="#" >Đèn đứng</a></div>
      <div class="product"><a href="#" >Đèn trần</a></div>
      <div class="product-img"><img src="img/Layer 2.png" alt=""></div>
    </div>
    <div class="list-row">
      <div class="product"><a href="#" >Thảm</a></div>
      <div class="product"><a href="#" >Gối</a></div>
      <div class="product"><a href="#" >Cây</a></div>
      <div class="product"><a href="#" >Gương</a></div>
      <div class="product-img"><img src="img/Layer 2-4.png" alt=""></div>
    </div>
  </div>


    <div class="menu">
        <div class="grid-container">

          <a href="../favorite.html" id="wishlist">
            <img class="img" src="img/heart.svg" />
            <div class="text-wrapper">Yêu thích</div>
          </a>
          <a class="cart" href="../cart.html">
            <img class="img" src="img/Feather Icon.png" />
            <div class="text-wrapper">Giỏ hàng</div>
          </a>
          <a id="account" href="../account.html">
            <img class="img" src="img/User.png" />
            <div class="text-wrapper">Tài khoản</div>
          </a>

        </div>
      </div>

    </div>

    <div class="box">
<h2>Danh sách yêu thích</h2>

          <div class="product-gallery-love" id="product-gallery-love">

    

          </div>
        </div>

  

          <div class="footers">
            <div class="name">
              <div class="text">
                <a href="../index.html" class="text-holder">Nook &amp; Nest</a>
              </div>
              <p class="footer-description">
                Nâng tầm không gian sống của bạn với đồ nội thất chất lượng để có
                cuộc sống thoải mái và tính thẩm mỹ hiện đại.
              </p>
      
      
              <div class="newsletter-input">
                <input type="text" placeholder="Nhập email của bạn">
      
      
                <button class="master-primary">
                  <p>Đăng ký</p>
                </button>
              </div>
            </div>
      
      
      
      
            <div class="footers-menu">
              <div class="footer-section">
                <div class="footer-title">Trang chủ
                  <div class="footer-list">
                    <div class="footer-li"><a href="../index.html" >Trang chủ</a></div>
                    <div class="footer-li"><a href="#" >Sản phẩm</a></div>
                    <div class="footer-li"><a href="../room-page.html" >Loại phòng</a></div>
                    <div class="footer-li"><a href="../collection-page.html" >Bộ sưu tập</a></div>
                    <div class="footer-li"><a href="#" >Tin tức</a></div>
      
                  </div>
                </div>
              </div>
      
      
              <div class="footer-section">
                <div class="footer-title">Công ty
                  <div class="footer-list">
                    <div class="footer-li"><a href="../about.html" >Về chúng tôi</a></div>
                    <div class="footer-li"><a href="..contact.html" >Liên hệ</a></div>
                    <div class="footer-li"><a href="#" >Cơ hội nghề nghiệp</a></div>
                    <div class="footer-li"><a href="#" >Trung tâm hỗ trợ</a></div>
                    <div class="footer-li"><a href="#" >Quy định</a></div>
      
                  </div>
        </div>
      </div>
      </div>
      
      
      
      
            <div class="footer-section-2">
              <div class="footer-title">Theo dõi trên Instagram</div>
              <div class="image-group">
                <div class="image-placeholder"><img src=" ../img/imgfooter-1.svg" /></div>
                <div class="image-placeholder"><img src=" ../img/imgfooter-2.svg " /></div>
                <div class="image-placeholder"><img src=" ../img/imgfooter-3.svg" /></div>
                <div class="image-placeholder"><img src=" ../img/imgfooter-4.svg" /></div>
              </div>
            </div>
      
      
            <div class="footer-bottom">
              <div class="social-media">
      
                <div class="social-media-icon">
                  <a href="https://facebook.com/" target="_blank">
                  <svg class="facebook" xmlns="http://www.w3.org/2000/svg" height="18" width="9.818"
                    fill="rgba(168, 68, 72, 1)" viewBox="0 0 320 512">
                    <path
                      d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z" />
                  </svg>
                  </a>
                </div>
      
                <div class="social-media-icon">
                  <a href="https://twitter.com/" target="_blank">
                  <svg class="twitter" xmlns="http://www.w3.org/2000/svg" height="14.604" width="18"
                    fill="rgba(168, 68, 72, 1)" viewBox="0 0 512 512">
                    <path
                      d="M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z" />
                  </svg>
                </a>
                </div>
      
                <div class="social-media-icon">
                  <a href="https://www.instagram.com/" target="_blank">
                  <svg class="instagram" xmlns="http://www.w3.org/2000/svg" height="18" width="18" fill="rgba(168, 68, 72, 1)"
                    viewBox="0 0 448 512">
                    <path
                      d="M194.4 211.7a53.3 53.3 0 1 0 59.3 88.7 53.3 53.3 0 1 0 -59.3-88.7zm142.3-68.4c-5.2-5.2-11.5-9.3-18.4-12c-18.1-7.1-57.6-6.8-83.1-6.5c-4.1 0-7.9 .1-11.2 .1c-3.3 0-7.2 0-11.4-.1c-25.5-.3-64.8-.7-82.9 6.5c-6.9 2.7-13.1 6.8-18.4 12s-9.3 11.5-12 18.4c-7.1 18.1-6.7 57.7-6.5 83.2c0 4.1 .1 7.9 .1 11.1s0 7-.1 11.1c-.2 25.5-.6 65.1 6.5 83.2c2.7 6.9 6.8 13.1 12 18.4s11.5 9.3 18.4 12c18.1 7.1 57.6 6.8 83.1 6.5c4.1 0 7.9-.1 11.2-.1c3.3 0 7.2 0 11.4 .1c25.5 .3 64.8 .7 82.9-6.5c6.9-2.7 13.1-6.8 18.4-12s9.3-11.5 12-18.4c7.2-18 6.8-57.4 6.5-83c0-4.2-.1-8.1-.1-11.4s0-7.1 .1-11.4c.3-25.5 .7-64.9-6.5-83l0 0c-2.7-6.9-6.8-13.1-12-18.4zm-67.1 44.5A82 82 0 1 1 178.4 324.2a82 82 0 1 1 91.1-136.4zm29.2-1.3c-3.1-2.1-5.6-5.1-7.1-8.6s-1.8-7.3-1.1-11.1s2.6-7.1 5.2-9.8s6.1-4.5 9.8-5.2s7.6-.4 11.1 1.1s6.5 3.9 8.6 7s3.2 6.8 3.2 10.6c0 2.5-.5 5-1.4 7.3s-2.4 4.4-4.1 6.2s-3.9 3.2-6.2 4.2s-4.8 1.5-7.3 1.5l0 0c-3.8 0-7.5-1.1-10.6-3.2zM448 96c0-35.3-28.7-64-64-64H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96zM357 389c-18.7 18.7-41.4 24.6-67 25.9c-26.4 1.5-105.6 1.5-132 0c-25.6-1.3-48.3-7.2-67-25.9s-24.6-41.4-25.8-67c-1.5-26.4-1.5-105.6 0-132c1.3-25.6 7.1-48.3 25.8-67s41.5-24.6 67-25.8c26.4-1.5 105.6-1.5 132 0c25.6 1.3 48.3 7.1 67 25.8s24.6 41.4 25.8 67c1.5 26.3 1.5 105.4 0 131.9c-1.3 25.6-7.1 48.3-25.8 67z" />
                  </svg>
                </a>
                </div>
                
                <div class="social-media-icon">
                  <a href="https://www.linkedin.com/" target="_blank">
                    <svg class="linked-in" xmlns="http://www.w3.org/2000/svg" height="17.143" width="18"
                    fill="rgba(168, 68, 72, 1)" viewBox="0 0 448 512">
                    <path
                      d="M100.3 448H7.4V148.9h92.9zM53.8 108.1C24.1 108.1 0 83.5 0 53.8a53.8 53.8 0 0 1 107.6 0c0 29.7-24.1 54.3-53.8 54.3zM447.9 448h-92.7V302.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V448h-92.8V148.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V448z" />
                  </svg>
                  </a>
                </div>
                
      
                <div class="social-media-icon">
                  <a href="https://www.youtube.com/" target="_blank">
                 <svg class="you-tube" xmlns="http://www.w3.org/2000/svg" height="13.997" width="19.8"
                    fill="rgba(168, 68, 72, 1)" viewBox="0 0 576 512">
                    <path
                      d="M549.7 124.1c-6.3-23.7-24.8-42.3-48.3-48.6C458.8 64 288 64 288 64S117.2 64 74.6 75.5c-23.5 6.3-42 24.9-48.3 48.6-11.4 42.9-11.4 132.3-11.4 132.3s0 89.4 11.4 132.3c6.3 23.7 24.8 41.5 48.3 47.8C117.2 448 288 448 288 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zm-317.5 213.5V175.2l142.7 81.2-142.7 81.2z" />
                  </svg>
                </a>
                </div>
              </div>
      
              <hr width="80%" size="3px" align="center" color="D4D2E3" />
              <p class="copyright">Copyright &COPY; 2023 Nook &amp; Nest | All Rights Reserved</p>
            </div>
          </div>


  </div>


</div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <script src="./js/owl.carousel.min.js"></script>

   <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

  <script>

    function toggleHeart(heart) {
  // Kiểm tra trạng thái hiện tại của trái tim
  if (heart.src.match("../img/heart-1.svg")) {
    // Nếu là trái tim trống, thay đổi thành trái tim đầy
    heart.src = "img/heart-2.svg";
  } else {
    // Nếu là trái tim đầy, thay đổi thành trái tim trống
    heart.src = "img/heart-1.svg";
  }
}

    document.addEventListener('scroll', () => {
      var header = document.querySelector('header')
      if (window.scrollY > 0) {
        header.classList.add('scrolled')
      }
      else {

        header.classList.remove('scrolled')
      }
    })

    document.addEventListener('DOMContentLoaded', function () {
      var div1 = document.querySelector('.product_page');
      var productmenu = document.querySelector('.product_menu');
      var collectionmenu = document.querySelector('.collection_menu');
      var isHovered = false;
      var roommenu= document.querySelector('.room_menu');
      productmenu.style.display='none';
            collectionmenu.style.display='none';
            roommenu.style.display='none';
          
          
          
            // $('.sign-in-btn').click(e=>{
            //     window.alert('Đăng nhập thành công !!');
            // })
            // $('.sign-up-btn').click(e=>{
            //     var signupid = document.getElementById('sign-up-id').value;
            //     var signuppass = document.getElementById('sign-up-pass').value
            //     var signuppass2 =  document.getElementById('sign-up-pass2').value
            //     if(signuppass != signuppass2){
            //         window.alert('Xác nhận mật khẩu sai !! Vui lòng Đăng kí lại!')
            //         return;
            //     }
            //     else
            //     window.alert('Đăng kí thành công~!\nID : ' + signupid + '\nPassword : '+signuppass);
            // })
            // setTimeout(e => {
            //     $('.ad').fadeOut();
            // }, 5000);
            // $('.mess').click(e=>{
            //     if(messclicktime%2==1)
            //     {
            //     $(mess).fadeOut();
            //     }
            //     else
            //     $(mess).fadeIn();
            //     messclicktime++;
            // })
            $('.product_page,.product_menu').mouseenter(function() {
                isHovered = true;
                $('.product_menu').slideDown(); 
                div1.classList.add('hover');
            });
            // $('.sub').click(e=>{
            //     if(subresclicktime%2==1)
            //     {
            //     $('.sub_res_table').fadeOut();
            //     }
            //     else
            //     $('.sub_res_table').fadeIn();
            //     subresclicktime++;
            // })
            // $('.sub_res_button').click(e=>{
            //     var subemail = document.querySelector('#sub_res_email').value
            //     alert('Bạn đã đăng ký nhận khuyến mãi thành công với email: \n' + subemail)
            // })

            $('.product_page,.product_menu').mouseenter(function() {
                isHovered = true;
                $('.product_menu').slideDown(); 
                div1.classList.add('hover');
            });

            $('.product_page,.product_menu').mouseleave(function() {
                isHovered = false;
                setTimeout(function() {
                if (!isHovered) {
                    $('.product_menu').slideUp();
                    div1.classList.remove('hover');
                }
                }, 50);
            });
            var div2 = document.querySelector('.collection_page');
            var isHovered = false;
            $('.collection_page,.collection_menu').mouseenter(function() {
                isHovered = true;
                $('.collection_menu').slideDown(); 
                div2.classList.add('hover');
    });

            $('.collection_page,.collection_menu').mouseleave(function() {
                isHovered = false;
                setTimeout(function() {
                if (!isHovered) {
                    $('.collection_menu').slideUp();
                    div2.classList.remove('hover');
                }
                }, 20); 
            });

            var div3 = document.querySelector('.room_page');
        var isHovered = false;
        $('.room_page,.room_menu').mouseenter(function() {
            isHovered = true;
            $('.room_menu').slideDown(); 
            div3.classList.add('hover');
});

        $('.room_page,.room_menu').mouseleave(function() {
            isHovered = false;
            setTimeout(function() {
            if (!isHovered) {
                $('.room_menu').slideUp();
                div3.classList.remove('hover');
            }
            }, 20); 
        });



            $('#account').click(e=>{
                if(accountclicktime%2==1)
                {
                $('.sign-in').fadeOut();
                $('.sign-up').fadeOut();
                }
                else
                $('.sign-in').fadeIn();
                accountclicktime++;
            })
            $('.sign-in-opt').click(e=>{
                
                $('.sign-up').fadeOut();
                setTimeout(() => {
                    
                $('.sign-in').fadeIn();
                }, 200);
            })
            $('.sign-up-opt').click(e=>{
                
                $('.sign-in').fadeOut();
                setTimeout(() => {
                    
                $('.sign-up').fadeIn();
                }, 200);
            })
    });

    $(document).ready(function(){
    $('.owl-carousel').owlCarousel({
    loop: true,
    margin: 10,
    nav: true,
    responsive: {
      0: {
        items: 1
      },
      600: {
        items: 1
      },
      1000: {
        items: 1
      }
    }
  });
});

document.addEventListener("DOMContentLoaded", () => {
  console.log("daload");

  // Lấy danh sách sản phẩm yêu thích từ localStorage
  var list = JSON.parse(localStorage.getItem('productItem')) || {};
  var hienthi = document.getElementById("product-gallery-love");

  // Hiển thị danh sách sản phẩm yêu thích
  for (const [pd1, item] of Object.entries(list)) {
    let content = `
      <div class="product-card-love">
        <div class="img">
          <img class="heart" id="myHeart_${pd1}" src="${item.isFavorite ? 'img/heart-1.svg' : 'img/heart-2.svg'}" alt="Heart" onclick="toggleHeart(this, '${pd1}', '${item.name1}', '${item.img1}')"/>
          <img class="pic" src="${item.img1}" />
        </div>

        <div class="info">
  
          <div class="name">${item.name1}</div>
          <div class="code">${item.code1}</div>
          <div class="price">${item.price1}</div>
      
        </div>
      </div>
    `;

    hienthi.innerHTML += content;
  }
});

function toggleHeart(heart, pd, name1, img1, price1, code1) {
  // Kiểm tra trạng thái hiện tại của trái tim
  var isFavorite = heart.src.includes("img/heart-2.svg");

  if (isFavorite) {
    // Nếu là trái tim đầy, thay đổi thành trái tim trống
    heart.src = "img/heart-1.svg";
    // Gỡ sản phẩm khỏi danh sách yêu thích
    removeFavorite(pd);
  } else {
    // Nếu là trái tim trống, thay đổi thành trái tim đầy
    heart.src = "img/heart-2.svg";
    // Thêm sản phẩm vào danh sách yêu thích
    toggleFavorite(pd, name1, img1, price1, code1);
  }
}

function toggleFavorite(productId, name1, img1, price1, code1) {
  // Lấy danh sách sản phẩm yêu thích từ localStorage
  var favorites = JSON.parse(localStorage.getItem('productItem')) || {};

  // Ghi lại thời gian hiện tại
  var timestamp = new Date().getTime();

  // Kiểm tra xem sản phẩm đã tồn tại trong danh sách yêu thích hay chưa
  if (favorites.hasOwnProperty(productId)) {
    // Nếu đã tồn tại, đảo ngược trạng thái yêu thích
    favorites[productId].isFavorite = !favorites[productId].isFavorite;
    // Cập nhật thời gian khi sản phẩm được bỏ yêu thích
    favorites[productId].timestamp = timestamp;
  } else {
    // Nếu chưa tồn tại, thêm vào danh sách yêu thích với trạng thái là yêu thích
    favorites[productId] = {
      name1: name1,
      img1: img1,
      price1: price1,
      code1: code1,
      isFavorite: true,
      timestamp: timestamp,
      // Thêm các thông tin khác nếu cần
    };
  }

  // Sắp xếp danh sách yêu thích theo thời gian giảm dần
  var sortedFavorites = Object.values(favorites).sort((a, b) => a.timestamp - b.timestamp);

  // Lưu danh sách sản phẩm yêu thích vào localStorage
  localStorage.setItem('productItem', JSON.stringify(sortedFavorites));
}


function removeFavorite(productId) {
  // Lấy danh sách sản phẩm yêu thích từ localStorage
  var favorites = JSON.parse(localStorage.getItem('productItem')) || {};

  // Kiểm tra xem sản phẩm có tồn tại trong danh sách yêu thích không
  if (favorites.hasOwnProperty(productId)) {
    // Xóa sản phẩm khỏi danh sách yêu thích
    delete favorites[productId];

    // Lưu danh sách sản phẩm yêu thích đã cập nhật vào localStorage
    localStorage.setItem('productItem', JSON.stringify(favorites));

    // Refresh trang để cập nhật hiển thị
    // location.reload();


        // Ẩn phần tử HTML của sản phẩm đã xóa
    var productCard = document.querySelector(`.product-card-love[data-product-id="${productId}"]`);
    if (productCard) {
      productCard.style.display = 'none';
    }
  }
}












  </script>
  <script src="https://kit.fontawesome.com/ae7bc8c7df.js" crossorigin="anonymous"></script>
</body>

</html>